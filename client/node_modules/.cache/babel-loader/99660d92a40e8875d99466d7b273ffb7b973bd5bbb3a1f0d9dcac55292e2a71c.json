{"ast":null,"code":"import { addImage, setImages } from \"./imagesSlice\";\nimport axios from \"axios\";\nexport const selectCount = state => state.images;\nexport const uploadImage = userImageObj => async (dispatch, getState) => {\n  try {\n    const data = await axios.post(\"/api/images/addImage\", userImageObj);\n    dispatch(addImage(userImageObj));\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getAllImages = () => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await axios.get(\"/api/images/getAllImages\");\n    //console.log(data)\n    const {\n      imagesDB\n    } = data;\n    dispatch(setImages(imagesDB));\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const deleteImageById = imageId => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await axios.post(\"/api/images/deleteImage\", imageId);\n    dispatch(setImages(imagesDB));\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["addImage","setImages","axios","selectCount","state","images","uploadImage","userImageObj","dispatch","getState","data","post","error","console","log","getAllImages","get","imagesDB","deleteImageById","imageId"],"sources":["C:/Users/97254/Desktop/fullStuck/client/src/features/images/imagesAction.ts"],"sourcesContent":["import { addImage, setImages } from \"./imagesSlice\";\r\nimport axios from \"axios\";\r\nimport { userImageObject } from \"./imagesSlice\";\r\nimport { RootState, AppThunk } from '../../app/store';\r\n\r\n\r\nexport const selectCount = (state: RootState) => state.images;\r\n\r\nexport const uploadImage =\r\n  (userImageObj: userImageObject): AppThunk =>\r\n  async(dispatch, getState) => {\r\n\r\n    try{\r\n    const data = await axios.post(\"/api/images/addImage\", userImageObj, )\r\n    dispatch(addImage(userImageObj));\r\n\r\n    }catch(error){\r\n      console.log(error)\r\n\r\n    }\r\n    \r\n  };\r\n\r\n  export const getAllImages =\r\n  (): AppThunk =>\r\n  async(dispatch, getState) => {\r\n\r\n    try{\r\n\r\n    const {data} = await axios.get(\"/api/images/getAllImages\")\r\n    //console.log(data)\r\n    const {imagesDB} = data\r\n    \r\n    dispatch(setImages(imagesDB));\r\n\r\n    return data\r\n    }catch(error){\r\n      console.log(error)\r\n\r\n    }\r\n    \r\n  }\r\n\r\n  export const deleteImageById = (imageId: string): AppThunk =>\r\n  async(dispatch, getState) => {\r\n\r\n    try{\r\n\r\n    const {data} = await axios.post(\"/api/images/deleteImage\",imageId)\r\n    \r\n    dispatch(setImages(imagesDB));\r\n\r\n    return data\r\n    }catch(error){\r\n      console.log(error)\r\n\r\n    }\r\n    \r\n  }\r\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,eAAe;AACnD,OAAOC,KAAK,MAAM,OAAO;AAKzB,OAAO,MAAMC,WAAW,GAAIC,KAAgB,IAAKA,KAAK,CAACC,MAAM;AAE7D,OAAO,MAAMC,WAAW,GACrBC,YAA6B,IAC9B,OAAMC,QAAQ,EAAEC,QAAQ,KAAK;EAE3B,IAAG;IACH,MAAMC,IAAI,GAAG,MAAMR,KAAK,CAACS,IAAI,CAAC,sBAAsB,EAAEJ,YAAY,CAAG;IACrEC,QAAQ,CAACR,QAAQ,CAACO,YAAY,CAAC,CAAC;EAEhC,CAAC,QAAMK,KAAK,EAAC;IACXC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EAEpB;AAEF,CAAC;AAED,OAAO,MAAMG,YAAY,GACzBA,CAAA,KACA,OAAMP,QAAQ,EAAEC,QAAQ,KAAK;EAE3B,IAAG;IAEH,MAAM;MAACC;IAAI,CAAC,GAAG,MAAMR,KAAK,CAACc,GAAG,CAAC,0BAA0B,CAAC;IAC1D;IACA,MAAM;MAACC;IAAQ,CAAC,GAAGP,IAAI;IAEvBF,QAAQ,CAACP,SAAS,CAACgB,QAAQ,CAAC,CAAC;IAE7B,OAAOP,IAAI;EACX,CAAC,QAAME,KAAK,EAAC;IACXC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EAEpB;AAEF,CAAC;AAED,OAAO,MAAMM,eAAe,GAAIC,OAAe,IAC/C,OAAMX,QAAQ,EAAEC,QAAQ,KAAK;EAE3B,IAAG;IAEH,MAAM;MAACC;IAAI,CAAC,GAAG,MAAMR,KAAK,CAACS,IAAI,CAAC,yBAAyB,EAACQ,OAAO,CAAC;IAElEX,QAAQ,CAACP,SAAS,CAACgB,QAAQ,CAAC,CAAC;IAE7B,OAAOP,IAAI;EACX,CAAC,QAAME,KAAK,EAAC;IACXC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EAEpB;AAEF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}