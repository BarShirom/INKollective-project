{"ast":null,"code":"import { addImage, setImages, deleteImageId } from \"./imagesSlice\";\nimport axios from \"axios\";\nexport const selectCount = state => state.images;\nexport const uploadImage = userImageObj => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await axios.post(\"/api/images/addImage\", userImageObj);\n    const {\n      image\n    } = data;\n    dispatch(addImage(image));\n  } catch (error) {}\n};\nexport const getAllImages = () => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await axios.get(\"/api/images/getAllImages\");\n    const {\n      imagesDB\n    } = data;\n    dispatch(setImages(imagesDB));\n    return data;\n  } catch (error) {}\n};\nexport const deleteImageById = imageId => async (dispatch, getState) => {\n  try {\n    console.log(getState());\n    // const { data } = await axios.post(\"/api/images/deleteImage\", { imageId })\n    dispatch(deleteImageId(imageId));\n    console.log(\"after\", getState());\n    return {};\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["addImage","setImages","deleteImageId","axios","selectCount","state","images","uploadImage","userImageObj","dispatch","getState","data","post","image","error","getAllImages","get","imagesDB","deleteImageById","imageId","console","log"],"sources":["C:/Users/97254/Desktop/fullStuck/client/src/features/images/imagesAction.ts"],"sourcesContent":["import { addImage, setImages, deleteImageId } from \"./imagesSlice\";\r\nimport axios from \"axios\";\r\nimport { userImageObject } from \"./imagesSlice\";\r\nimport { RootState, AppThunk } from '../../app/store';\r\n\r\n\r\n\r\nexport const selectCount = (state: RootState) => state.images;\r\n\r\nexport const uploadImage =\r\n  (userImageObj: userImageObject): AppThunk =>\r\n    async (dispatch, getState) => {\r\n\r\n      try {\r\n        const { data } = await axios.post(\"/api/images/addImage\", userImageObj)\r\n        const { image } = data\r\n        dispatch(addImage(image));\r\n\r\n      } catch (error) {\r\n\r\n\r\n      }\r\n\r\n    };\r\n\r\nexport const getAllImages =\r\n  (): AppThunk =>\r\n    async (dispatch, getState) => {\r\n\r\n      try {\r\n\r\n        const { data } = await axios.get(\"/api/images/getAllImages\")\r\n\r\n        const { imagesDB } = data\r\n\r\n        dispatch(setImages(imagesDB));\r\n\r\n\r\n        return data\r\n      } catch (error) {\r\n\r\n\r\n      }\r\n\r\n    }\r\n\r\nexport const deleteImageById = (imageId: string | null | undefined): AppThunk =>\r\n  async (dispatch, getState) => {\r\n\r\n\r\n    try {\r\n      console.log(getState())\r\n      // const { data } = await axios.post(\"/api/images/deleteImage\", { imageId })\r\n      dispatch(deleteImageId(imageId));\r\n      console.log(\"after\", getState())\r\n\r\n\r\n      return {}\r\n    } catch (error) {\r\n      console.log(error)\r\n\r\n    }\r\n\r\n  }\r\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,aAAa,QAAQ,eAAe;AAClE,OAAOC,KAAK,MAAM,OAAO;AAMzB,OAAO,MAAMC,WAAW,GAAIC,KAAgB,IAAKA,KAAK,CAACC,MAAM;AAE7D,OAAO,MAAMC,WAAW,GACrBC,YAA6B,IAC5B,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAE5B,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMR,KAAK,CAACS,IAAI,CAAC,sBAAsB,EAAEJ,YAAY,CAAC;IACvE,MAAM;MAAEK;IAAM,CAAC,GAAGF,IAAI;IACtBF,QAAQ,CAACT,QAAQ,CAACa,KAAK,CAAC,CAAC;EAE3B,CAAC,CAAC,OAAOC,KAAK,EAAE,CAGhB;AAEF,CAAC;AAEL,OAAO,MAAMC,YAAY,GACvBA,CAAA,KACE,OAAON,QAAQ,EAAEC,QAAQ,KAAK;EAE5B,IAAI;IAEF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMR,KAAK,CAACa,GAAG,CAAC,0BAA0B,CAAC;IAE5D,MAAM;MAAEC;IAAS,CAAC,GAAGN,IAAI;IAEzBF,QAAQ,CAACR,SAAS,CAACgB,QAAQ,CAAC,CAAC;IAG7B,OAAON,IAAI;EACb,CAAC,CAAC,OAAOG,KAAK,EAAE,CAGhB;AAEF,CAAC;AAEL,OAAO,MAAMI,eAAe,GAAIC,OAAkC,IAChE,OAAOV,QAAQ,EAAEC,QAAQ,KAAK;EAG5B,IAAI;IACFU,OAAO,CAACC,GAAG,CAACX,QAAQ,EAAE,CAAC;IACvB;IACAD,QAAQ,CAACP,aAAa,CAACiB,OAAO,CAAC,CAAC;IAChCC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEX,QAAQ,EAAE,CAAC;IAGhC,OAAO,CAAC,CAAC;EACX,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdM,OAAO,CAACC,GAAG,CAACP,KAAK,CAAC;EAEpB;AAEF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}