{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const loginUser = createAsyncThunk('get-user-by-cookie', async (_ref, thunkApi) => {\n  let {\n    email,\n    password,\n    navigate\n  } = _ref;\n  try {\n    const data = await axios.post(\"/api/users/login\", {\n      email,\n      password\n    });\n    if (!data) throw new Error(\"Couldn't receive data from axios GET '/get-user-by-cookie' from: userAPI \");\n    navigate(\"/home\");\n    localStorage.setItem('userName', email);\n    return data;\n  } catch (error) {\n    console.error(error);\n    return thunkApi.rejectWithValue({\n      error: error.message,\n      message: error.message\n    });\n  }\n});","map":{"version":3,"names":["createAsyncThunk","axios","loginUser","_ref","thunkApi","email","password","navigate","data","post","Error","localStorage","setItem","error","console","rejectWithValue","message"],"sources":["C:/Users/97254/Desktop/fullStuck/client/src/features/user/loginUser.ts"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\"\r\nimport axios from \"axios\"\r\nimport { User } from \"./userType\"\r\n\r\n\r\ninterface LoginPayload {\r\n    email: string,\r\n    password: string,\r\n    navigate: any\r\n}\r\n\r\nexport const loginUser = createAsyncThunk<User, LoginPayload>(\r\n    'get-user-by-cookie',\r\n    async({email, password,navigate}, thunkApi) => {\r\n        try {\r\n            const data  = await axios.post(\"/api/users/login\", {email, password})\r\n            if(!data) throw new Error(\"Couldn't receive data from axios GET '/get-user-by-cookie' from: userAPI \")\r\n            navigate(\"/home\")\r\n            localStorage.setItem('userName', email)\r\n\r\n            return data            \r\n        } catch (error:any) {\r\n            console.error(error)\r\n            return thunkApi.rejectWithValue({\r\n                error: error.message,\r\n                message: error.message,\r\n              })\r\n        }\r\n    }\r\n)\r\n\r\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,KAAK,MAAM,OAAO;AAUzB,OAAO,MAAMC,SAAS,GAAGF,gBAAgB,CACrC,oBAAoB,EACpB,OAAAG,IAAA,EAAkCC,QAAQ,KAAK;EAAA,IAAzC;IAACC,KAAK;IAAEC,QAAQ;IAACC;EAAQ,CAAC,GAAAJ,IAAA;EAC5B,IAAI;IACA,MAAMK,IAAI,GAAI,MAAMP,KAAK,CAACQ,IAAI,CAAC,kBAAkB,EAAE;MAACJ,KAAK;MAAEC;IAAQ,CAAC,CAAC;IACrE,IAAG,CAACE,IAAI,EAAE,MAAM,IAAIE,KAAK,CAAC,2EAA2E,CAAC;IACtGH,QAAQ,CAAC,OAAO,CAAC;IACjBI,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEP,KAAK,CAAC;IAEvC,OAAOG,IAAI;EACf,CAAC,CAAC,OAAOK,KAAS,EAAE;IAChBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpB,OAAOT,QAAQ,CAACW,eAAe,CAAC;MAC5BF,KAAK,EAAEA,KAAK,CAACG,OAAO;MACpBA,OAAO,EAAEH,KAAK,CAACG;IACjB,CAAC,CAAC;EACR;AACJ,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}